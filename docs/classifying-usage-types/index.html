<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Cloud Carbon Footprint Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Cloud Carbon Footprint Blog Atom Feed"><title data-react-helmet="true">Classifying Usage Types | Cloud Carbon Footprint</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Classifying Usage Types | Cloud Carbon Footprint"><meta data-react-helmet="true" name="description" content="In order to estimate the energy and carbon emissions for a given amount of cloud provider usage, we need to first classify a row of usage as either Compute, SSD Storage, HDD Storage, Networking or Memory. It&#x27;s also possible that the usage row is unknown, which we have a process or reclassify here, or unsupported, in which case the application ignores these rows. To understand the steps involved in the classification, please see the methodology page. Once the application has classified the usage row, it then uses the associated usage amount when estimating energy and carbon emissions."><meta data-react-helmet="true" property="og:description" content="In order to estimate the energy and carbon emissions for a given amount of cloud provider usage, we need to first classify a row of usage as either Compute, SSD Storage, HDD Storage, Networking or Memory. It&#x27;s also possible that the usage row is unknown, which we have a process or reclassify here, or unsupported, in which case the application ignores these rows. To understand the steps involved in the classification, please see the methodology page. Once the application has classified the usage row, it then uses the associated usage amount when estimating energy and carbon emissions."><meta data-react-helmet="true" property="og:url" content="https://cloud-carbon-footprint.github.io/docs/classifying-usage-types"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.png"><link data-react-helmet="true" rel="canonical" href="https://cloud-carbon-footprint.github.io/docs/classifying-usage-types"><link rel="stylesheet" href="/styles.27db0c38.css">
<link rel="preload" href="/styles.ff841748.js" as="script">
<link rel="preload" href="/runtime~main.40a806e4.js" as="script">
<link rel="preload" href="/main.277fd307.js" as="script">
<link rel="preload" href="/1.d18285e0.js" as="script">
<link rel="preload" href="/2.42935c7b.js" as="script">
<link rel="preload" href="/01a85c17.e79d1220.js" as="script">
<link rel="preload" href="/1be78505.ca535641.js" as="script">
<link rel="preload" href="/6875c492.42cdf559.js" as="script">
<link rel="preload" href="/a6aa9e1f.4eb8fdcd.js" as="script">
<link rel="preload" href="/c4f5d8e4.2fe25849.js" as="script">
<link rel="preload" href="/ccc49370.dfca2df4.js" as="script">
<link rel="preload" href="/50.9ac25116.js" as="script">
<link rel="preload" href="/49.01346aa3.js" as="script">
<link rel="preload" href="/935f2afb.1d10943d.js" as="script">
<link rel="preload" href="/17896441.88254399.js" as="script">
<link rel="preload" href="/d30faa58.2f6b0230.js" as="script">
</head>
<body>
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img src="/img/logo.png" alt="My Site Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo.png" alt="My Site Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">Cloud Carbon Footprint</strong></a></div><div class="navbar__items navbar__items--right"><a href="https://demo.cloudcarbonfootprint.org/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar__link">Demo</a><a class="navbar__item navbar__link navbar__link" href="/docs/getting-started">Get Started</a><a class="navbar__item navbar__link navbar__link" href="/docs/overview">Docs</a><a href="https://github.com/cloud-carbon-footprint/cloud-carbon-footprint" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar__link">Github</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2N3Q"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_3NWk" style="margin-left:1px">üåô</span></div><div class="react-toggle-track-x"><span class="toggle_3NWk" style="margin-left:1px">‚òÄÔ∏è</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo.png" alt="My Site Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo.png" alt="My Site Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">Cloud Carbon Footprint</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a href="https://demo.cloudcarbonfootprint.org/" target="_blank" rel="noopener noreferrer" class="menu__link navbar__link">Demo</a></li><li class="menu__list-item"><a class="menu__link navbar__link" href="/docs/getting-started">Get Started</a></li><li class="menu__list-item"><a class="menu__link navbar__link" href="/docs/overview">Docs</a></li><li class="menu__list-item"><a href="https://github.com/cloud-carbon-footprint/cloud-carbon-footprint" target="_blank" rel="noopener noreferrer" class="menu__link navbar__link">Github</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_vMrn"><div class="docSidebarContainer_3Ak5" role="complementary"><div class="sidebar_3gvy"><div class="menu menu--responsive thin-scrollbar menu_1yIk"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_1CUI" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Cloud Carbon Footprint</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/overview">Overview</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">How It Works</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/methodology">Methodology</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/classifying-usage-types">Classifying Usage Types</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/embodied-emissions">Embodied Emissions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/on-premise">On-Premise</a></li></ul></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist" href="#!">Running Locally</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/introduction">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/getting-started">Getting Started</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/create-app">Create an App</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/run-with-mocked-data">Run with Mocked Data</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Connect to Real Data</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/aws">AWS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/gcp">GCP</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/azure">Azure</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/alternative-data-approaches">Alternative Data Approaches</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/get-recommendations">Get Recommendations</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/run-with-docker">Run with Docker</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/running-the-cli">Running the CLI</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/creating-a-lookup-table">Creating a Lookup Table</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Configuration Options</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/performance-considerations">Performance Considerations</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/configurations-glossary">Configurations Glossary</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/deploying">Deploying</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist" href="#!">Integrations</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/backstage-plugins">Backstage Plugins</a></li></ul></li></ul></div></div></div><main class="docMainContainer_2iGs"><div class="container padding-vert--lg docItemWrapper_1bxp"><div class="row"><div class="col docItemCol_U38p"><div class="docItemContainer_a7m4"><article><header><h1 class="docTitle_Oumm">Classifying Usage Types</h1></header><div class="markdown"><p>In order to estimate the energy and carbon emissions for a given amount of cloud provider usage, we need to first classify a row of usage as either Compute, SSD Storage, HDD Storage, Networking or Memory. It&#x27;s also possible that the usage row is unknown, which we have a process or reclassify <a href="/docs/classifying-usage-types#handling-unknown-usage-types">here</a>, or unsupported, in which case the application ignores these rows. To understand the steps involved in the classification, please see the <a href="/docs/methodology#1-using-billing-data-for-cloud-usage-holistic">methodology page</a>. Once the application has classified the usage row, it then uses the associated usage amount when estimating energy and carbon emissions.</p><p>In order to make these classification decisions, we pulled all the various types of usage rows that Thoughtworks has utilized into a spreadsheet for analysis. We then researched each type of usage using publicly available information from the cloud providers about the underlying services, often looking at documentation regarding payment/costs as this often gives hints as to the usage type. We have published these usage types and the various classifications in <a href="https://docs.google.com/spreadsheets/d/1rMt1lb3G23JnwbAODCka1ohrbl-4pELFSqi6xwwW4q4/" target="_blank" rel="noopener noreferrer">this spreadsheet</a> with detailed notes and links to sources when available. </p><p>Given that these usage types have been derived from Thoughtworks&#x27; usage, there may be usage types missing that aren&#x27;t currently supported. If this is case for when using the application, please see instructions for adding unsupported usage types in the documentation for your cloud provider: <a href="/docs/aws#unsupported-usage-types">AWS</a>, <a href="/docs/gcp#unsupported-usage-types">GCP</a> and <a href="/docs/azure#unsupported-usage-types">Azure</a>. We welcome feedback any/all on these classifications.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="handling-unknown-usage-types"></a>Handling Unknown Usage Types<a class="hash-link" href="#handling-unknown-usage-types" title="Direct link to heading">#</a></h2><p>Currently, the application is built to support the energy and carbon emissions estimations for Compute, Storage, Networking and Memory usage types. For the purpose of this documentation, these should be considered ‚Äúknown‚Äù usage types. Per cloud provider, there is a unique list of services and usage types that we intentionally classify as ‚ÄúUnsupported‚Äù. Some of these we do not intend to estimate energy usage, (i.e. Refunds, or License fees).</p><p>There are, however, a number of billing line items that may not meet the criteria to be classified with a high degree of confidence as compute, storage, networking or memory - despite us having confidence there is energy and carbon emissions associated with them. This can be the case with higher level managed services where we have little information about the underlying infrastructure provisioned. For these line items, we have developed an approach that estimates energy and carbon emissions using usage amount (GCP, Azure) or cost (AWS) as a proxy. For each of these line items we identify the best fit known usage type by looking at the service and usage unit, then use the average kilowatt-hour per dollar of that best fit usage type to calculate the energy, using the line item‚Äôs usage amount or cost depending on the cloud provider.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="applying-the-kilowatt-hourcost-coefficient"></a>Applying the Kilowatt-hour/Cost Coefficient<a class="hash-link" href="#applying-the-kilowatt-hourcost-coefficient" title="Direct link to heading">#</a></h3><p>For each ‚Äúknown‚Äù usage type, we dynamically build the average kilowatt-hour per usage amount (or cost for AWS) for each unique service and usage unit combination, then multiply that by the usage amount (or cost for AWS) for any unknown rows. We also track the totals to be used for unknown rows that do not match a known service and usage unit combination. Here are these steps in more detail, using GCP services and usage units as an example:</p><ol><li>For known usage rows, track usageAmount and kilowattHour per service and usage unit, accumulating the values. The result looks something like this:</li></ol><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-undefined codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  kubernetesEngine: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    seconds: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      usageAmount: 10,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      kilowattHours: 100,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">},</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    bytes: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      usageAmount: 20,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      kilowattHours: 200,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">},</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  computeEngine: {...},</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  totals: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    seconds: {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      usageAmount: 50,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      kilowattHours: 1000,</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">},</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  bytes: {...},</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><ol start="2"><li>For each unknown row, if there is a known usageAmount/kilowattHours ratio with the same service and usage unit, multiply the usageAmount by the ratio to determine the estimated kilowatt hours. Then convert that to CO2e based on Google‚Äôs published grid emission and carbon free energy percentage, per data center. For example, if we had this ‚Äúunknown‚Äù row using the example data in the previous bullet, the estimated kilowatt-hours would be 100 / 10 * 300 = 3000 kilowatt-hours:</li></ol><table><thead><tr><th>Service name</th><th>Usage unit Value</th><th>Usage amount</th></tr></thead><tbody><tr><td>kubernetesEngine</td><td>seconds</td><td>300</td></tr></tbody></table><ol start="3"><li>If there is no same service name and usage unit, then we multiply the usage amount by KWh/usage unit ratio for total usage with that usage unit. For example, if we had this ‚Äúunknown‚Äù row using the example data in the first bullet, the estimated kilowatt-hours would be 1000 / 50 * 400 = 8000 kilowatt-hours:</li></ol><table><thead><tr><th>Service name</th><th>Usage unit Value</th><th>Usage amount</th></tr></thead><tbody><tr><td>appEngine</td><td>seconds</td><td>400</td></tr></tbody></table><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="why-we-use-cost-for-aws-instead"></a>Why we use cost for AWS instead:<a class="hash-link" href="#why-we-use-cost-for-aws-instead" title="Direct link to heading">#</a></h4><p>In the case of AWS, we track and accumulate known Kilowatt-hours and cost, rather than the Kilowatt-hours and usage amount. We then multiple the cost of unknown usage by these dynamic coefficients. This is because there is no column for ‚Äúusage unit‚Äù in the AWS Cost and Usage Reports, only a ‚Äúpricing unit‚Äù. This means we are unable to use the usage amount to estimate kilowatt hours as we don‚Äôt know what usage unit we should multiply it by to estimate Kilowatt-hours.</p><p>We welcome any and all feedback on this approach, or suggestions for entirely different approaches to handling Unknown cloud usage.</p></div></article><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/methodology"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">¬´ Methodology</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/embodied-emissions"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Embodied Emissions ¬ª</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_2xL- thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#handling-unknown-usage-types" class="table-of-contents__link">Handling Unknown Usage Types</a><ul><li><a href="#applying-the-kilowatt-hourcost-coefficient" class="table-of-contents__link">Applying the Kilowatt-hour/Cost Coefficient</a></li></ul></li></ul></div></div></div></div></main></div></div><div><section id="have-a-question"><div class="footerImageContainer_2H1A"><div><h2 class="footerImageTitle_1-0Q">Have a Question?</h2><a href="https://groups.google.com/g/cloud-carbon-footprint" target="_blank" rel="noopener noreferrer"><button class="MuiButtonBase-root MuiButton-root jss2 MuiButton-contained" tabindex="0" type="button"><span class="MuiButton-label">JOIN OUR DISCUSSION FORUM</span></button></a></div></div></section><div class="footerLicenseContainer_dmmY"><p>Cloud Carbon Footprint is an open-source project, sponsored by Thoughtworks Inc. under the¬†<a class="footerLicenseLink_jTO1" target="_blank" href="http://www.apache.org/licenses/LICENSE-2.0">Apache License, Version 2.0</a></p><p><a class="footerLicenseLink_jTO1" target="_blank" href="https://www.thoughtworks.com/privacy-policy">PRIVACY POLICY</a></p></div></div></div>
<script src="/styles.ff841748.js"></script>
<script src="/runtime~main.40a806e4.js"></script>
<script src="/main.277fd307.js"></script>
<script src="/1.d18285e0.js"></script>
<script src="/2.42935c7b.js"></script>
<script src="/01a85c17.e79d1220.js"></script>
<script src="/1be78505.ca535641.js"></script>
<script src="/6875c492.42cdf559.js"></script>
<script src="/a6aa9e1f.4eb8fdcd.js"></script>
<script src="/c4f5d8e4.2fe25849.js"></script>
<script src="/ccc49370.dfca2df4.js"></script>
<script src="/50.9ac25116.js"></script>
<script src="/49.01346aa3.js"></script>
<script src="/935f2afb.1d10943d.js"></script>
<script src="/17896441.88254399.js"></script>
<script src="/d30faa58.2f6b0230.js"></script>
</body>
</html>