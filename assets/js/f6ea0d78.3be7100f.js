"use strict";(self.webpackChunkwww_cloudcarbonfootprint_org=self.webpackChunkwww_cloudcarbonfootprint_org||[]).push([[98],{3905:(e,t,o)=>{o.d(t,{Zo:()=>s,kt:()=>g});var n=o(7294);function r(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function i(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function a(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?i(Object(o),!0).forEach((function(t){r(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):i(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function l(e,t){if(null==e)return{};var o,n,r=function(e,t){if(null==e)return{};var o,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)o=i[n],t.indexOf(o)>=0||(r[o]=e[o]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)o=i[n],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}var p=n.createContext({}),c=function(e){var t=n.useContext(p),o=t;return e&&(o="function"==typeof e?e(t):a(a({},t),e)),o},s=function(e){var t=c(e.components);return n.createElement(p.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},f=n.forwardRef((function(e,t){var o=e.components,r=e.mdxType,i=e.originalType,p=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),u=c(o),f=r,g=u["".concat(p,".").concat(f)]||u[f]||d[f]||i;return o?n.createElement(g,a(a({ref:t},s),{},{components:o})):n.createElement(g,a({ref:t},s))}));function g(e,t){var o=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=o.length,a=new Array(i);a[0]=f;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l[u]="string"==typeof e?e:r,a[1]=l;for(var c=2;c<i;c++)a[c]=o[c];return n.createElement.apply(null,a)}return n.createElement.apply(null,o)}f.displayName="MDXCreateElement"},9941:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>p,contentTitle:()=>a,default:()=>d,frontMatter:()=>i,metadata:()=>l,toc:()=>c});var n=o(7462),r=(o(7294),o(3905));const i={id:"deploying",title:"Deploying",slug:"/deploying",sidebar_position:8},a=void 0,l={unversionedId:"GettingStarted/deploying",id:"GettingStarted/deploying",title:"Deploying",description:"Deploy to Google App Engine",source:"@site/docs/GettingStarted/Deploying.md",sourceDirName:"GettingStarted",slug:"/deploying",permalink:"/docs/deploying",draft:!1,tags:[],version:"current",sidebarPosition:8,frontMatter:{id:"deploying",title:"Deploying",slug:"/deploying",sidebar_position:8},sidebar:"defaultSidebar",previous:{title:"Creating a Lookup Table",permalink:"/docs/creating-a-lookup-table"},next:{title:"AWS",permalink:"/docs/aws"}},p={},c=[{value:"Deploy to Google App Engine",id:"deploy-to-google-app-engine",level:3},{value:"Deploy to AWS",id:"deploy-to-aws",level:3},{value:"Deploy to other cloud providers",id:"deploy-to-other-cloud-providers",level:2}],s={toc:c},u="wrapper";function d(e){let{components:t,...o}=e;return(0,r.kt)(u,(0,n.Z)({},s,o,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h3",{id:"deploy-to-google-app-engine"},"Deploy to Google App Engine"),(0,r.kt)("p",null,"Cloud Carbon Footprint is configured to be deployed to ",(0,r.kt)("a",{parentName:"p",href:"https://cloud.google.com/appengine/"},"Google App Engine")," (standard environment) using GitHub Actions. See the ",(0,r.kt)("a",{parentName:"p",href:"https://cloud.google.com/nodejs/getting-started/hello-world"},"Hello World example")," for instructions on setting up a Google Cloud Platform project and installing the Google Cloud SDK to your local machine."),(0,r.kt)("p",null,"Before deploying, you'll need to build the application and create the packages/api/.env and packages/client/.env file as detailed above. There are two scripts to populate these files as part of the GitHub Actions pipeline: ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/cloud-carbon-footprint/cloud-carbon-footprint/blob/trunk/packages/api/create_server_env_file.sh"},"packages/cli/create_server_env_file.sh")," and ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/cloud-carbon-footprint/cloud-carbon-footprint/blob/trunk/packages/client/create_client_env_file.sh"},"client/create_client_env_file.sh"),"."),(0,r.kt)("p",null,"Once you've set up the CGP project and have the command line tools, Cloud Carbon Footprint can be deployed with ",(0,r.kt)("inlineCode",{parentName:"p"},"./appengine/deploy-staging.sh")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"./appengine/deploy-production.sh"),", depending on your environment."),(0,r.kt)("p",null,"Or if you want to use GitHub Actions, you can see the configuration for this in ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/cloud-carbon-footprint/cloud-carbon-footprint/blob/trunk/.github/workflows/ci.yml"},".github/workflows/ci.yml"),"."),(0,r.kt)("p",null,"It will deploy to ",(0,r.kt)("inlineCode",{parentName:"p"},"https://<something>.appspot.com"),"."),(0,r.kt)("h3",{id:"deploy-to-aws"},"Deploy to AWS"),(0,r.kt)("p",null,"The application can also be deployed in AWS by making use of EC2 as the compute service to run it on. In order to do so, we provide a basic infrastructure setup that spins up all the necessary cloud resources, from the required role/policies to the actual compute resource and its provisioning (EC2 with user data)."),(0,r.kt)("p",null,"The infrastructure setup, developed with Terraform, can be found in ",(0,r.kt)("inlineCode",{parentName:"p"},"terraform/aws")," and needs to be parametrized with the right values and tweaked to the specific circumstances of the user i.e. there might not be the need to fire up all resources but a subset of them."),(0,r.kt)("p",null,"For more information, please note that there are specific instructions for this ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/cloud-carbon-footprint/cloud-carbon-footprint/blob/trunk/terraform/aws/README.md"},"here"),"."),(0,r.kt)("h2",{id:"deploy-to-other-cloud-providers"},"Deploy to other cloud providers"),(0,r.kt)("p",null,"Cloud Carbon Footprint should be deployable to other cloud providers such as ",(0,r.kt)("a",{parentName:"p",href:"https://www.heroku.com/"},"Heroku")," or ",(0,r.kt)("a",{parentName:"p",href:"https://aws.amazon.com/elasticbeanstalk/"},"AWS Elastic Beanstalk"),". However, only Google App Engine has been tested currently, so there may be some work involved in doing this."),(0,r.kt)("p",null,"Don't forget to deploy your ",(0,r.kt)("inlineCode",{parentName:"p"},".env")," files or otherwise set the environment variables in your deployment."))}d.isMDXComponent=!0}}]);